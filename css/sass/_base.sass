// Format

*
  @include box-sizing(border-box)
  position: relative


a
  color: $link-color

  &:hover
    color: $link-color-hover

input
  margin: 0

html,
body
  width: 100%
  height: 100%

html
  background: white
  color: $dark
  font-family: $font-body
  font-size: $font-size
  line-height: $line
  -webkit-font-smoothing: antialiased

h1,
h2,
h3,
h4,
h5,
h6
  font-weight: normal
  line-height: 1

h1,
h2
  font-family: $bodoni-poster
  text-align: center
  text-transform: uppercase

h2
  font-size: $line*1.25
  margin: $line 0
  padding: $line 0 0

h3
  font-size: $line*0.75
  margin: $line*1.25 0 $line/2

p
  margin: $line 0

strong
  font-weight: bold

em
  font-style: italic


// Layout

.contents
  margin: 0 auto
  max-width: $desktop
  padding: $line*2 0

.fixed
  position: fixed
  left: 0
  top: 0

.bleed
  width: 100%
  height: 100%

  img
    width: 100%

.half
  float: left
  margin-right: 2%
  width: 49%

.half + .half
  width: 49%


// Content Types

section
  border: 1px solid #ccc
  @include clearfix
  background: #fff
  width: 100%
  z-index: 3

  .background-image
    position: absolute
    width: 100%
    height: 100%
    top: 0
    left: 0
    // incompatible with 3d transform tricks
    // background-attachment: fixed
    background-position: 50% 0%
    // has severe performance issues:
    // background-size: cover
    padding: 3em 6em

    -webkit-backface-visibility: hidden
    -webkit-perspective: 1000

  &.chapter
    text-align: center

    p
      font-family: $font-chapter
      text-transform: uppercase

  &.chapter_title
    text-align: center
    text-transform: uppercase
    // @extend .background-image
    padding: 12em 0

    p
      border-bottom: 2px solid $dark
      display: inline-block
      font-size: $font-size*0.9
      letter-spacing: 1px
      margin: 0 auto
      padding: 0 1em .25em 1em

    h2
      font-size: 44px
      margin: 0

    &.on_dark_background
      p
        border-bottom: 2px solid rgba(255, 255, 255, .6)

      p,
      h2
        color: #fff
        @include text-shadow($dark 0 0 25px)

  &.copy
    p
      font-size: 18px
      line-height: 1.3

  &.quotation
    .contents
      @include clearfix
      background-repeat: no-repeat
      padding: 6em 0

    blockquote
      background: $green
      color: #fff
      display: block
      padding: 2em
      width: 50%

      p
        font-size: $font-size*1.2
        margin-top: 0

    cite
      font-size: $font-size*0.9

      strong
        display: block
        font-size: $font-size

    &.left
      float: left

      blockquote
        @include triangle-right(25px, $green)

      .contents
        background-position: 90% center

    &.right
      float: right

      blockquote
        @include triangle-left(25px, $green)

      .contents
        background-position: left

    &.paul
      .contents
        background-image: image-url('1/paul.jpg')
        background-repeat: no-repeat
        background-position: 0 8em

      blockquote
        float: right
        width: 75%
        @include triangle-left(25px, $green, 10%)

.major
  font-family: $font-heading
  font-size: 30px
  text-align: center
  text-transform: uppercase
  line-height: 1.3

.major-alt
  @extend .major
  font-size: 20px

.half-width
  p
    width: 50%

.bordered
  border-top: 2px solid $dark
  border-bottom: 2px solid $dark
  margin: 0 auto
  padding: .5em 0 .4em 0
  width: 75%

.hr-top
  .contents:before
    content: ""
    display: block
    border-top: 2px solid $dark
    width: 100%
